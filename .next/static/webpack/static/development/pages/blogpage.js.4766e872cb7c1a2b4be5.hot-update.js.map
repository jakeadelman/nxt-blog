{"version":3,"file":"static/webpack/static/development/pages/blogpage.js.4766e872cb7c1a2b4be5.hot-update.js","sources":["webpack:///./components/BlogContent.js"],"sourcesContent":["import React from \"react\";\nimport * as contentful from \"contentful\";\nimport BlogHeader from \"./BlogHeader\";\n// const rtfm = require(\"@contentful/rich-text-from-markdown\");\nconst marked = require(\"marked\");\n\nexport default class BlogContent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      posts: []\n    };\n  }\n\n  client = contentful.createClient({\n    space: \"mtpe83yxj293\",\n    accessToken:\n      \"5c8709b65bf6e0cb67c9eb2df1fe49882917410230ca4f437430518ed4ed5957\"\n  });\n\n  componentDidMount() {\n    this.fetchPosts(this.props.id).then(this.setPosts);\n    // .then(response => this.fetchImg(response).then(this.setImg));\n  }\n\n  // this.fetchImg(this.state.heroImage).then(this.setImg)\n  fetchImg = entry => this.client.getAssets(entry);\n\n  fetchPosts = entry => this.client.getEntries({ \"sys.id\": entry });\n\n  setImg = response => {\n    console.log(response);\n  };\n\n  setPosts = response => {\n    let assets = response.includes.Asset;\n    let heroImg = assets[0];\n    heroImg = heroImg.fields.file.url;\n    heroImg = \"https:\" + heroImg + \"?w=700&h=700\";\n    let preFormatBody = response.items[0].fields.body;\n    let title = response.items[0].fields.title;\n\n    this.setState({\n      heroImg: heroImg,\n      posts: response.items[0],\n      markdown: marked(preFormatBody),\n      title: title\n    });\n    console.log(this.state.posts);\n\n    // return response.fields.heroImage.sys.id;\n  };\n\n  render() {\n    return (\n      <div>\n        <h1>{this.state.title}</h1>\n        <img src={this.state.heroImg} />\n        <td dangerouslySetInnerHTML={{ __html: this.state.markdown }} />\n      </div>\n    );\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAQA;AACA;AAFA;AACA;AARA;AAmBA;AAAA;AACA;AApBA;AAqBA;AAAA;AAAA;AAAA;AACA;AAtBA;AAwBA;AACA;AACA;AA1BA;AA4BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AACA;AAKA;AAGA;AACA;AA3CA;AACA;AADA;AAFA;AAKA;AACA;;;AAOA;AACA;AAEA;AACA;;;AA6BA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;AAvDA;AACA;;;;;A","sourceRoot":""}